<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2018 by Tia093 (http://jsbin.com/xocohug/4/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<meta name="robots" content="noindex">
<html>
<head>
	<title>Assignment 12</title>
<script scr="https://github.com/Tia093/LA558/blob/master/Assignment13/data/iowaCounties.json"></script>
	<link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
  <script
  src="https://indicator.extension.iastate.edu/classes/leaflet-ajax-gh-pages/dist/leaflet.ajax.min.js">
  </script>
	<style>
		html, body {
			height: 100%;
			margin: 0;
		}
		#map {
			width: 600px;
			height: 400px;
		}
	</style>
 
</head>
<body>
<div id='map'></div>
<script id="jsbin-javascript">
console.clear();
var map=L.map('map').setView([42,-93],7);
var osm=L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png',{
  attribution:'&copy;<a href="http://osm.org/copyright">OpenStreetMap</a>contributors',
  maxZoom:18
}).addTo(map);

//set color of marker
function getColor(d){
  return d<='1'?'#9F0410':
     d<='2'?'#CF412E':
     d<='3'?'#F57146':
     d<='4'?'#14049F':
     d<='5'?'#253CBB':
     d<='6'?'#3B87E2':
     d<='7'?'#4DC0FF':
     d<='8'?'#7DE723':
     d<='9'?'#B1FF0F':
  "#FFFFFF";    
}
function style(feature){
  return{
    fillColor:
    getColor(feature.properties.RUCC_2013),
    weight:1,
    opacity:1,
    color:'white',
    dashArray:'2',
    fillOpacity:0.7
  };
}

url="https://github.com/Tia093/LA558/blob/master/Assignment13/data/iowaCounties.json";
var geojsonLayer=new L.GeoJSON.AJAX(url,{
  style:style,
  onEachFeature:function(feature,layer){
    htmlText="<strong>"+feature.properties.NAME+"</strong><br>Population 2010:<b>"+feature.properties.POP2010+"</b><br>Population 2000:<b>"+feature.properties.POP2000+"</b><br>RUCC 2013:<b>"+feature.properies.RUCC_2013+"</b>";
    layer.bindPopup(htmlText);
    layer.bindTooltip(feature.properties.NAME);
  }
}).addTo(map);
// legend
var legend=L.control({
  position:'bottomright'
});
legend.onAdd=function(map){
  var div=L.DomUtil.create('div','info legend'),
      rucc_13=[1,2,3,4,5,6,7,8,9],
      labels=['Metro','','','Non-metro','','','','Rural',''];
  //console.log(feature.length);
  div.innerHTML+="<b>RUCC 2013</b><br>";
  for (var i=0;i<rucc_13.length;i++){
    div.innerHTML+=
      '<i style="background:'+getColor(rucc_13[i])+'"></i>' +rucc_13[i]+''+labels[i]+'<br>';
  } 
  return div;  
};
legend.addTo(map);




</script>
</body>
</html>